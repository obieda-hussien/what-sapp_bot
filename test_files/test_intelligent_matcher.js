/**
 * Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ©
 */

import { intelligentKeywordMatch, findBestMatch, analyzeMatch, ArabicProcessor } from '../utils/intelligentMatcher.js';

console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…\n');
console.log('=' .repeat(60));

// Ø§Ø®ØªØ¨Ø§Ø± 1: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 1: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚');
console.log('-'.repeat(60));
analyzeMatch('Ø¹Ø§ÙŠØ² Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');

// Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹ Ø£Ø®Ø·Ø§Ø¡ Ø¥Ù…Ù„Ø§Ø¦ÙŠØ©
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ (Ø£Ø®Ø·Ø§Ø¡ Ø¥Ù…Ù„Ø§Ø¦ÙŠØ©)');
console.log('-'.repeat(60));
analyzeMatch('Ø¹Ø§ÙŠØ² Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ù‡', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©'); // Ù‡ Ø¨Ø¯Ù„ Ø©
analyzeMatch('Ù…Ø­ØªØ§Ø¬ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ù‡', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');

// Ø§Ø®ØªØ¨Ø§Ø± 3: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹ ÙƒÙ„Ù…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 3: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ù…Ø¹ ÙƒÙ„Ù…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©');
console.log('-'.repeat(60));
analyzeMatch('Ø§Ù†Ø§ Ø¹Ø§ÙŠØ² Ù…Ù„Ø®Øµ Ù…Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø© Ù„Ùˆ Ø³Ù…Ø­Øª', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');
analyzeMatch('Ù…Ù…ÙƒÙ† Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');

// Ø§Ø®ØªØ¨Ø§Ø± 4: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¬Ø²Ø¦ÙŠ
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 4: Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¬Ø²Ø¦ÙŠ');
console.log('-'.repeat(60));
analyzeMatch('Ø¹Ø§ÙŠØ² Ù…Ø­Ø§Ø¶Ø±Ø© Ø§ÙˆÙ„ÙŠ', 'Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø§ÙˆÙ„ÙŠ Ù…Ø­Ø§Ø³Ø¨Ø©');
analyzeMatch('Ù…Ø­ØªØ§Ø¬ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø§ÙˆÙ„ÙŠ', 'Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø§ÙˆÙ„ÙŠ Ù…Ø­Ø§Ø³Ø¨Ø©');

// Ø§Ø®ØªØ¨Ø§Ø± 5: Ø¹Ø¯Ù… Ø§Ù„ØªØ·Ø§Ø¨Ù‚
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 5: Ø¹Ø¯Ù… Ø§Ù„ØªØ·Ø§Ø¨Ù‚');
console.log('-'.repeat(60));
analyzeMatch('Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');
analyzeMatch('Ø´ÙƒØ±Ø§Ù‹ Ø¬Ø²ÙŠÙ„Ø§Ù‹', 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');

// Ø§Ø®ØªØ¨Ø§Ø± 6: Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙØ¶Ù„ ØªØ·Ø§Ø¨Ù‚ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø©
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 6: Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙØ¶Ù„ ØªØ·Ø§Ø¨Ù‚ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø©');
console.log('-'.repeat(60));

const keywords = [
    'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©',
    'Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø§ÙˆÙ„ÙŠ Ù…Ø­Ø§Ø³Ø¨Ø©',
    'Ø§Ø³Ø§ÙŠÙ…Ù†Øª Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø§ÙˆÙ„ÙŠ',
    'Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª',
    'Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª'
];

const testMessages = [
    'Ø¹Ø§ÙŠØ² Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©',
    'Ù…Ø­ØªØ§Ø¬ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰',
    'ÙÙŠÙ† Ø§Ù„Ø§Ø³Ø§ÙŠÙ…Ù†Øª',
    'Ø§ÙŠÙ‡ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª',
    'Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…'
];

testMessages.forEach(message => {
    console.log(`\nØ§Ù„Ø±Ø³Ø§Ù„Ø©: "${message}"`);
    const result = findBestMatch(message, keywords);
    if (result) {
        console.log(`âœ… ØªØ·Ø§Ø¨Ù‚! Ø§Ù„ÙƒÙ„Ù…Ø©: "${result.keyword}"`);
        console.log(`   Ø§Ù„Ø¯Ø±Ø¬Ø©: ${result.score.toFixed(2)}`);
        console.log(`   Ø§Ù„Ø«Ù‚Ø©: ${(result.confidence * 100).toFixed(1)}%`);
        console.log(`   Ø§Ù„Ù†ÙŠØ©: ${result.details.intent}`);
    } else {
        console.log('âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ·Ø§Ø¨Ù‚');
    }
});

// Ø§Ø®ØªØ¨Ø§Ø± 7: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 7: Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©');
console.log('-'.repeat(60));

console.log('\nØªÙˆØ³ÙŠØ¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª:');
const word = 'Ù…Ø­Ø§Ø¶Ø±Ø©';
const expanded = ArabicProcessor.expandWord(word);
console.log(`Ø§Ù„ÙƒÙ„Ù…Ø©: ${word}`);
console.log(`Ø§Ù„ØªÙˆØ³ÙŠØ¹Ø§Øª: ${expanded.join(', ')}`);

console.log('\nØ§Ù„Ù…ØªØ±Ø§Ø¯ÙØ§Øª:');
const synonymsTests = ['Ø¹Ø§ÙŠØ²', 'Ø§Ø²Ø§ÙŠ', 'Ù…Ù„Ø®Øµ', 'Ø§Ø³Ø§ÙŠÙ…Ù†Øª'];
synonymsTests.forEach(w => {
    const syns = ArabicProcessor.getSynonyms(w);
    if (syns.length > 0) {
        console.log(`${w}: ${syns.join(', ')}`);
    }
});

// Ø§Ø®ØªØ¨Ø§Ø± 8: Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù†ÙŠØ©
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 8: Ø§ÙƒØªØ´Ø§Ù Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
console.log('-'.repeat(60));

const intentMessages = [
    'Ø¹Ø§ÙŠØ² Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©',           // Ø·Ù„Ø¨
    'Ø§Ø²Ø§ÙŠ Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©ØŸ',     // Ø³Ø¤Ø§Ù„
    'Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…',               // ØªØ­ÙŠØ©
    'Ø´ÙƒØ±Ø§Ù‹ Ø¬Ø²ÙŠÙ„Ø§Ù‹',                // Ø´ÙƒØ±
    'Ø§Ù„Ù…Ù„Ø®Øµ Ù…ÙÙŠØ¯ Ø¬Ø¯Ø§Ù‹'             // Ø¨ÙŠØ§Ù†
];

intentMessages.forEach(msg => {
    const result = intelligentKeywordMatch(msg, 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');
    console.log(`"${msg}" â†’ Ø§Ù„Ù†ÙŠØ©: ${result.details.intent}`);
});

// Ø§Ø®ØªØ¨Ø§Ø± 9: Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ù„ØªØ´ÙƒÙŠÙ„
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 9: Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ´ÙƒÙŠÙ„');
console.log('-'.repeat(60));

const diacriticTests = [
    'Ù…ÙÙ„ÙØ®ÙÙ‘Øµ Ù…ÙØ­ÙØ§Ø³ÙØ¨ÙØ©',
    'Ù…ÙÙ„Ù’Ø®ÙØµ Ù…ÙØ­ÙØ§Ø³ÙØ¨ÙÙ‡',
    'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©'  // Ø¨Ø¯ÙˆÙ† ØªØ´ÙƒÙŠÙ„
];

diacriticTests.forEach(test => {
    const result = intelligentKeywordMatch(test, 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©');
    console.log(`"${test}" â†’ Ø¯Ø±Ø¬Ø©: ${result.score.toFixed(2)} - ${result.matched ? 'âœ…' : 'âŒ'}`);
});

// Ø§Ø®ØªØ¨Ø§Ø± 10: Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø³Ø±Ø¹Ø©
console.log('\nğŸ“Œ Ø§Ø®ØªØ¨Ø§Ø± 10: Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø¯Ø§Ø¡');
console.log('-'.repeat(60));

const iterations = 1000;
const testMessage = 'Ø¹Ø§ÙŠØ² Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø© Ù…Ù† ÙØ¶Ù„Ùƒ';
const testKeyword = 'Ù…Ù„Ø®Øµ Ù…Ø­Ø§Ø³Ø¨Ø©';

console.time('Ø²Ù…Ù† Ø§Ù„ØªÙ†ÙÙŠØ°');
for (let i = 0; i < iterations; i++) {
    intelligentKeywordMatch(testMessage, testKeyword);
}
console.timeEnd('Ø²Ù…Ù† Ø§Ù„ØªÙ†ÙÙŠØ°');
console.log(`Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª: ${iterations}`);

// Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
console.log('\n' + '='.repeat(60));
console.log('âœ… Ø§ÙƒØªÙ…Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø°ÙƒÙŠØ©');
console.log('='.repeat(60));

console.log('\nğŸ¯ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:');
console.log('  âœ“ Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ ÙˆØ§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ');
console.log('  âœ“ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¦ÙŠØ©');
console.log('  âœ“ Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ´ÙƒÙŠÙ„');
console.log('  âœ“ Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø°ÙƒÙŠ');
console.log('  âœ“ Ø§ÙƒØªØ´Ø§Ù Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
console.log('  âœ“ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…ØªØ±Ø§Ø¯ÙØ§Øª');
console.log('  âœ“ Ø§Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¬Ø²Ø¦ÙŠ');
console.log('  âœ“ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù‚Ø±Ø¨ ÙˆØ§Ù„Ø³ÙŠØ§Ù‚');

console.log('\nğŸ’¡ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¢Ù† Ø£ÙƒØ«Ø± Ø°ÙƒØ§Ø¡Ù‹ ÙˆÙŠÙÙ‡Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„!');
