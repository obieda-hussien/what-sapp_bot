# 🤖 دليل استخدام Groq AI في البوت

## 📋 نظرة عامة

تم تطوير البوت ليستخدم **Groq AI** - أسرع نظام ذكاء اصطناعي في العالم - لفهم المحادثات الطبيعية والرد عليها بطريقة ذكية.

## ✨ المميزات الجديدة

### 1. 🧠 فهم المحادثات الطبيعية
- البوت يفهم الأسئلة والطلبات بدون الحاجة لكلمات مفتاحية محددة
- يمكنه فهم اللهجات المختلفة (مصري، خليجي، شامي)
- يفهم الإنجليزية والعربية

### 2. 💭 ذاكرة المحادثة
- يتذكر ما قيل في المحادثة السابقة
- يربط الأحداث ببعضها
- يحتفظ بسياق المحادثة (حتى 20 رسالة)

### 3. 📚 إرسال الملفات الذكي
- يمكنه البحث عن الملفات في config.json
- يرسل المحاضرات والملخصات والواجبات تلقائياً
- يفهم الطلبات مثل "عايز ملخص المحاضرة الأولى"
- **جديد!** يمكنه إرسال مجلد كامل بجميع ملفاته مرة واحدة - **موفر للتوكينز!**

### 4. 📂 إرسال المجلدات الكاملة (ميزة موفرة للتوكينز)
- عند طلب جميع ملفات فئة معينة (مثل "كل ملخصات المحاسبة")
- البوت يستخدم طريقة ذكية لإرسال كل الملفات دفعة واحدة
- هذا يوفر استهلاك التوكينز بدلاً من إرسال كل ملف على حدة
- أمثلة: "ابعتلي كل الملخصات"، "جميع محاضرات الاقتصاد"

### 5. 🔍 تحليل الموارد المتاحة
- يعرف ما هو متاح من محاضرات وملخصات
- يعتذر بأدب إذا طُلب منه ملف غير متاح
- يقترح البدائل المتاحة

## 🚀 التفعيل

### الخطوة 1: الحصول على API Key

1. زر موقع Groq: https://console.groq.com
2. سجّل دخول بحساب Google أو GitHub
3. اذهب إلى API Keys
4. اضغط "Create API Key"
5. انسخ المفتاح (يبدأ بـ `gsk_...`)

### الخطوة 2: إضافة المفتاح للبوت

1. افتح ملف `.env`
2. أضف السطر التالي:
```bash
GROQ_API_KEY=gsk_your_api_key_here
```
3. احفظ الملف
4. أعد تشغيل البوت

### الخطوة 3: التحقق من التفعيل

أرسل الأمر `.حالة_ai` للبوت
- إذا ظهر "✅ مُفعّل" - تهانينا! البوت جاهز
- إذا ظهر "⚠️ غير مُفعّل" - تحقق من المفتاح

## 💬 أمثلة الاستخدام

### مثال 1: طلب محاضرة
```
👤 المستخدم: "السلام عليكم، ممكن ملخص المحاضرة الأولى من محاسبة؟"

🤖 البوت: "وعليكم السلام! 👋
         بالتأكيد، هذا ملخص المحاضرة الأولى من محاسبة التكاليف:
         📚 [يرسل ملف PDF]
         
         هل تحتاج شيء آخر؟"
```

### مثال 2: محادثة متصلة
```
👤: "السلام عليكم"
🤖: "وعليكم السلام ورحمة الله! كيف يمكنني مساعدتك؟"

👤: "عايز أعرف إيه المحاضرات المتاحة"
🤖: "لدي حالياً:
     📚 2 محاضرة في محاسبة التكاليف
     📝 2 ملخص للمحاضرات
     📋 2 واجب
     
     أي واحدة تحتاجها؟"

👤: "عايز الملخص الأول"
🤖: "تمام! 👍
     [يرسل ملف PDF للملخص الأول]
     
     تمنياتي لك بالتوفيق في دراستك! 🎓"
```

### مثال 3: إرسال مجلد كامل (موفر للتوكينز) ⭐
```
👤: "ابعتلي كل ملخصات المحاسبة"

🤖: "تمام! هبعتلك كل الملخصات دفعة واحدة 📂
     [يرسل ملف PDF الأول]
     [يرسل ملف PDF الثاني]
     
     اهو كل الملخصات وصلتك! ربنا يوفقك 📚✨"

---
ملاحظة: هذه الطريقة توفر التوكينز لأن البوت يرسل المجلد كله مرة واحدة
بدلاً من استخدام أداة منفصلة لكل ملف!
```

### مثال 4: شرح مفهوم
```
👤: "ممكن تشرحلي إيه هي محاسبة التكاليف؟"

🤖: "محاسبة التكاليف ببساطة هي:
     
     📊 فرع من المحاسبة بيركز على حساب تكلفة إنتاج المنتجات أو الخدمات
     
     الهدف الأساسي:
     ✓ معرفة تكلفة المنتج بدقة
     ✓ مساعدة الإدارة في اتخاذ القرارات
     ✓ تحديد السعر المناسب
     
     هل تريد تفاصيل أكثر عن موضوع معين؟"
```

### مثال 5: طلب غير متاح
```
👤: "عايز محاضرة الفيزياء"

🤖: "عذراً، للأسف ليس لدي محاضرات فيزياء حالياً 😔
     
     لكن لدي محاضرات في:
     • محاسبة التكاليف
     • تنمية المهارات اللغوية
     
     هل تريد أحدها؟"
```

## 🎯 القدرات التقنية

### الأدوات (Tools) المتاحة للبوت

#### 1. send_file
```javascript
// يستخدمها البوت لإرسال الملفات
{
  query: "ملخص المحاضرة الأولى محاسبة",
  reason: "الطالب طلب ملخص المحاضرة"
}
```

#### 2. send_folder ⭐ جديد
```javascript
// يستخدمها البوت لإرسال مجلد كامل - موفر للتوكينز!
{
  folderPath: "accounting/Summary", // المسار النسبي للمجلد في Materials
  reason: "تمام! هبعتلك كل الملخصات"
}
```
**فوائد send_folder:**
- يوفر استهلاك التوكينز بشكل كبير
- يرسل كل الملفات دفعة واحدة بدون تكرار
- مثالي عند طلب "كل الملفات" أو "جميع المحاضرات"

#### 3. analyze_config
```javascript
// يستخدمها البوت لمعرفة الملفات المتاحة
{
  category: "all" // أو "lectures" أو "summaries" أو "assignments"
}
```

### النموذج المستخدم

**llama-3.3-70b-versatile** (محدث)
- 70 مليار معامل (parameter)
- سريع جداً (500+ tokens/sec)
- يفهم العربية بشكل ممتاز
- سياق يصل إلى 32K tokens

> **ملاحظة**: تم تحديث النموذج من `llama-3.1-70b-versatile` إلى `llama-3.3-70b-versatile` بسبب إيقاف النموذج القديم

## ⚙️ الإعدادات المتقدمة

### تعديل حجم الذاكرة
في ملف `utils/groqAssistant.js`:
```javascript
const MAX_MEMORY_MESSAGES = 20; // غيّر هذا الرقم
```

### تغيير النموذج
في ملف `utils/groqAssistant.js`:
```javascript
model: "llama-3.3-70b-versatile" // أو "llama-3.1-8b-instant" للسرعة الفائقة
```

### تعديل System Prompt
في دالة `createSystemPrompt()` يمكنك تخصيص شخصية البوت

## 📊 الأوامر المتاحة

### .حالة_ai
عرض حالة Groq AI وقدراته
```
🤖 حالة Groq AI

✅ مُفعّل

📋 القدرات:
• فهم المحادثات الطبيعية
• الاحتفاظ بالسياق والذاكرة
• إرسال الملفات والمحاضرات
• ربط الأحداث ببعضها
• تحليل config.json
```

### .مسح_ذاكرة
مسح ذاكرة المحادثة مع البوت
```
🧹 تم مسح ذاكرة المحادثة بنجاح!

البوت الآن سينسى المحادثات السابقة ويبدأ من جديد.
```

### .احصائيات_ai
عرض إحصائيات استخدام AI
```
📊 إحصائيات Groq AI

💬 عدد المحادثات النشطة: 3

📝 تفاصيل المحادثات:
1. المستخدم: 201234567890
   💭 عدد الرسائل: 12
2. المستخدم: 201098765432
   💭 عدد الرسائل: 8
```

## 🔄 التراجع للنظام العادي

إذا فشل Groq AI أو لم يكن مُفعّلاً، يتراجع البوت تلقائياً للنظام العادي (keyword matching).

## 💡 نصائح للاستخدام الأمثل

### 1. كن واضحاً في طلباتك
✅ "عايز ملخص المحاضرة الأولى محاسبة"
❌ "عايز حاجة"

### 2. استخدم السياق
```
"عايز المحاضرة الأولى"
"وبعدين عايز ملخصها كمان"  ← البوت يفهم أنك تقصد محاسبة
```

### 3. امسح الذاكرة عند البدء في موضوع جديد
```
.مسح_ذاكرة
```

### 4. استفد من قدرات الشرح
```
"اشرحلي المحاسبة بطريقة بسيطة"
"إيه الفرق بين... و...؟"
```

## 🚨 استكشاف الأخطاء

### البوت لا يرد
1. تحقق من `.حالة_ai`
2. تأكد من وجود GROQ_API_KEY في .env
3. أعد تشغيل البوت

### ذاكرة ممتلئة
```
.مسح_ذاكرة
```

### البوت يعطي ردود غير دقيقة
- امسح الذاكرة وابدأ من جديد
- كن أكثر وضوحاً في طلباتك

## 📈 الإحصائيات

### السرعة
- **Groq**: 500+ tokens/sec
- **GPT-4**: ~40 tokens/sec
- **Gemini**: ~60 tokens/sec

**Groq أسرع 10 مرات!** ⚡

### التكلفة
- ✅ **مجاني 100%** (في الوقت الحالي)
- لا يتطلب بطاقة ائتمان
- بدون حدود صارمة

## 🔐 الأمان والخصوصية

- المحادثات تُخزن محلياً فقط في ذاكرة البوت
- لا تُحفظ على سيرفرات خارجية
- يمكن مسح الذاكرة في أي وقت
- Groq لا يحتفظ بسجل المحادثات (حسب سياستهم)

## 🎓 الخلاصة

الآن البوت:
- ✅ أذكى - يفهم المحادثات الطبيعية
- ✅ أسرع - استجابة فورية
- ✅ أقوى - ذاكرة وسياق
- ✅ أكثر فائدة - يرسل الملفات تلقائياً
- ✅ مجاني - 100% مجاني!

**استمتع بتجربة الذكاء الاصطناعي في البوت! 🚀**

---

## 📚 روابط مفيدة

- Groq Console: https://console.groq.com
- Groq Docs: https://console.groq.com/docs
- Models: https://console.groq.com/docs/models
- API Reference: https://console.groq.com/docs/api-reference

## 🆘 الدعم

إذا واجهت مشاكل:
1. تحقق من `.حالة_ai`
2. راجع هذا الدليل
3. افحص ملف .env
4. أعد تشغيل البوت
