# نظام التحكم في الوصول - Access Control System

## نظرة عامة

نظام التحكم في الوصول يتيح لك التحكم الكامل في من يمكنه استخدام:
1. **الردود الآلية** (Automatic Replies) - الردود المبنية على الكلمات المفتاحية
2. **الذكاء الاصطناعي** (AI Responses) - الردود الذكية من Groq AI

يمكنك التحكم في كل نظام بشكل منفصل تماماً!

## الأوضاع المتاحة

### 1. وضع "الكل" (all) - الافتراضي
- **الوصف**: جميع المستخدمين يمكنهم الوصول
- **الاستخدام**: مناسب للبوتات العامة
- **مثال**: جميع الطلاب يمكنهم الحصول على ملخصات والتحدث مع AI

### 2. وضع "القائمة البيضاء" (whitelist)
- **الوصف**: فقط المستخدمين في القائمة المسموح لهم يمكنهم الوصول
- **الاستخدام**: للتحكم الدقيق - فقط من تختارهم
- **مثال**: فقط طلاب الفرقة الرابعة يمكنهم استخدام AI

### 3. وضع "القائمة السوداء" (blacklist)
- **الوصف**: الكل يمكنه الوصول ما عدا المحظورين
- **الاستخدام**: لمنع مستخدمين محددين فقط
- **مثال**: منع مستخدم معين من إزعاج البوت

## الأوامر المتاحة

### حظر/إلغاء حظر من الردود الآلية

```
.حظر_ردود 201234567890
```
- يمنع المستخدم من الحصول على ردود آلية (الملفات، النصوص الجاهزة)
- المستخدم لن يرى أي رد من نظام الكلمات المفتاحية

```
.الغاء_حظر_ردود 201234567890
```
- يلغي الحظر عن المستخدم
- يعيد إمكانية الحصول على الردود الآلية

### حظر/إلغاء حظر من الذكاء الاصطناعي

```
.حظر_ai 201234567890
```
- يمنع المستخدم من استخدام الذكاء الاصطناعي
- المستخدم لن يحصل على ردود ذكية من Groq AI

```
.الغاء_حظر_ai 201234567890
```
- يلغي الحظر عن المستخدم
- يعيد إمكانية استخدام AI

### تغيير الوضع

```
.وضع_ردود blacklist
```
- يفعّل وضع القائمة السوداء للردود الآلية
- الكل يمكنه الوصول ما عدا المحظورين

```
.وضع_ai whitelist
```
- يفعّل وضع القائمة البيضاء للذكاء الاصطناعي
- فقط المستخدمين في القائمة يمكنهم استخدام AI

الأوضاع المتاحة: `all`, `whitelist`, `blacklist`

### عرض الحالة

```
.حالة_وصول
```
- يعرض الوضع الحالي لكل نظام
- يعرض عدد المحظورين والمسموح لهم
- يعرض قائمة المستخدمين المحظورين

## أمثلة على الاستخدام

### مثال 1: منع مستخدم واحد من الإزعاج

```
.حظر_ai 201111111111
.وضع_ai blacklist
```

النتيجة:
- جميع المستخدمين يمكنهم استخدام AI
- ما عدا المستخدم 201111111111

### مثال 2: AI فقط لطلاب محددين

```
// أضف المستخدمين المسموح لهم في config.json
"accessControl": {
  "aiResponses": {
    "mode": "whitelist",
    "allowedUsers": ["201234567890", "201234567891"],
    "blockedUsers": []
  }
}

.وضع_ai whitelist
```

النتيجة:
- فقط المستخدمان 201234567890 و 201234567891 يمكنهم استخدام AI
- باقي المستخدمين يحصلون على رسالة "لا يمكنك استخدام الذكاء الاصطناعي"

### مثال 3: ردود آلية للكل، AI للنخبة فقط

```
.وضع_ردود all
.وضع_ai whitelist
```

النتيجة:
- جميع المستخدمين يحصلون على الردود الآلية (ملفات، نصوص)
- فقط المستخدمين في القائمة البيضاء يمكنهم استخدام AI

## تعديل config.json يدوياً

يمكنك تعديل ملف `config.json` مباشرة:

```json
{
  "accessControl": {
    "automaticReplies": {
      "mode": "all",
      "blockedUsers": [],
      "allowedUsers": []
    },
    "aiResponses": {
      "mode": "whitelist",
      "blockedUsers": [],
      "allowedUsers": [
        "201234567890",
        "201234567891",
        "201234567892"
      ]
    }
  }
}
```

في هذا المثال:
- الردود الآلية: متاحة للجميع
- الذكاء الاصطناعي: فقط للمستخدمين الثلاثة المحددين

## الرسائل التي يراها المستخدم

### عند الحظر من الردود الآلية
```
⚠️ عذراً، لا يمكنك استخدام نظام الردود الآلية حالياً.
```

### عند الحظر من الذكاء الاصطناعي
```
⚠️ عذراً، لا يمكنك استخدام نظام الذكاء الاصطناعي حالياً.
```

## ملاحظات مهمة

1. **الأرقام**: استخدم أرقام الهواتف بدون @s.whatsapp.net
   - صحيح: `201234567890`
   - خطأ: `201234567890@s.whatsapp.net`

2. **النخبة**: مستخدمو النخبة يمكنهم دائماً استخدام الأوامر
   - التحكم في الوصول لا يؤثر على أوامر البوت
   - فقط يؤثر على الردود الآلية والذكاء الاصطناعي

3. **القائمة البيضاء**: يجب إضافة المستخدمين في config.json
   - لا يوجد أمر لإضافة للقائمة البيضاء حالياً
   - استخدم القائمة السوداء مع الأوامر للسهولة

4. **التوفير**: استخدم الأوضاع لتوفير التوكينز
   - حدد من يمكنه استخدام AI لتوفير التكاليف
   - اترك الردود الآلية متاحة للجميع (مجانية)

## استكشاف الأخطاء

### المستخدم لا يزال يحصل على ردود رغم الحظر

- تأكد من تفعيل الوضع الصحيح:
  ```
  .وضع_ردود blacklist
  ```
  أو
  ```
  .وضع_ai blacklist
  ```

- تحقق من الحالة:
  ```
  .حالة_وصول
  ```

### القائمة البيضاء لا تعمل

- تأكد من إضافة المستخدمين في config.json
- تأكد من تفعيل وضع whitelist:
  ```
  .وضع_ai whitelist
  ```

### كيف أعيد كل شيء للإعدادات الافتراضية؟

```
.وضع_ردود all
.وضع_ai all
```

هذا يعيد النظام للسماح للجميع.

## الدعم

للمزيد من المساعدة:
- استخدم `.المساعدة` لعرض جميع الأوامر
- استخدم `.حالة_وصول` لمعرفة الوضع الحالي
- راجع ملف `config.json` للإعدادات التفصيلية
