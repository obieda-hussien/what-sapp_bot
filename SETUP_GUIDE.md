# 📚 دليل الإعداد والتشغيل الشامل
## WhatsApp to Telegram Bridge Bot - Complete Setup Guide

---

## 🎯 الميزة الأهم: الإعداد التلقائي بدون تدخل!

### ✨ ماذا يحدث تلقائياً عند أول تشغيل؟

البوت الآن **ذكي جداً** ويقوم بكل شيء تلقائياً:

1. **📝 إنشاء config.json** - ينشئ ملف الإعدادات تلقائياً
2. **🔑 إضافة رقمك للنخبة** - رقمك المسجل يُضاف تلقائياً
3. **📱 حفظ LID** - معرف الجهاز المحلي يُحفظ تلقائياً
4. **💾 حفظ في .env** - رقمك يُحفظ في ملف .env تلقائياً
5. **🌉 إضافة الجسور** - معلومات القناة والجروب من .env تُضاف تلقائياً لـ config.json
6. **⚡ الأوامر تعمل فوراً** - من **أي محادثة** (جروب، خاص، أي مكان في الواتس!)

---

## 🚀 التثبيت السريع (5 دقائق فقط!)

### الخطوة 1: تثبيت المتطلبات
```bash
npm install
```

### الخطوة 2: إعداد ملف .env
انسخ `.env.example` إلى `.env`:
```bash
cp .env.example .env
```

### الخطوة 3: تعديل ملف .env (المطلوب فقط)
افتح `.env` وأضف معلومات Telegram فقط:
```env
# معلومات Telegram (مطلوبة)
TELEGRAM_BOT_TOKEN=7123456789:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw
TELEGRAM_CHANNEL_ID=@your_channel

# معلومات WhatsApp (اختيارية - سيتم إضافتها تلقائياً!)
WHATSAPP_GROUP_JID=
OWNER_PHONE=
```

**ملاحظة:** `WHATSAPP_GROUP_JID` و `OWNER_PHONE` اختياريان - البوت سيملأهما تلقائياً!

### الخطوة 4: تشغيل البوت
```bash
npm start
```

### الخطوة 5: ربط رقمك
- امسح QR Code أو استخدم Pairing Code
- **البوت سيضيفك تلقائياً للنخبة!**
- **رقمك سيُحفظ في .env تلقائياً!**

### ماذا سترى؟
```
╔════════════════════════════════════════════════════════════════╗
║           🤖 WhatsApp to Telegram Bot - Starting...           ║
╚════════════════════════════════════════════════════════════════╝

📁 مجلد العمل: /home/user/whatsapp-bot
📝 ملف الإعدادات: /home/user/whatsapp-bot/config.json
📂 ملف .env: ✅ موجود
👥 عدد النخبة: 0
   ⚠️  تحذير: لا يوجد مستخدمين نخبة! أضف OWNER_PHONE في .env

📦 Using Baileys version v6.7.5, isLatest: true
📱 QR Code متاح، امسحه للاتصال.

... (بعد المسح) ...

╔════════════════════════════════════════════════════════════════╗
║     ✅ تم الاتصال بواتساب بنجاح!                             ║
╚════════════════════════════════════════════════════════════════╝

✅ تم إضافة رقمك (201210065633) تلقائياً إلى قائمة النخبة
✅ تم إضافة LID (225060749086880) تلقائياً إلى قائمة النخبة
💾 تم حفظ بياناتك في config.json
💾 تم حفظ رقمك في ملف .env

🎉 يمكنك الآن استخدام جميع الأوامر من أي محادثة في الواتس!
💡 جرب: .تست أو .المساعدة
```

---

## 🎉 الآن الأوامر تعمل من كل مكان!

بعد الربط مباشرة، جرب إرسال:

### من أي جروب:
```
.تست
```

### من المحادثات الخاصة:
```
.المساعدة
```

### من أي مكان في الواتس:
```
.الحالة
```

**الأوامر تعمل في:**
- ✅ **جميع الجروبات** (المراقبة وغيرها)
- ✅ **المحادثات الخاصة**
- ✅ **أي محادثة** في الواتس
- ✅ لا حاجة للتبديل بين المحادثات!

---

## 📋 قائمة الأوامر الكاملة (35+ أمر)

### 🔧 إدارة البوت
| الأمر | الوصف |
|------|------|
| `.تست` / `.test` | اختبار البوت |
| `.ايقاف` / `.stop` | إيقاف البوت مؤقتاً |
| `.تشغيل` / `.start` | تشغيل البوت |
| `.الحالة` / `.status` | عرض الحالة الكاملة |
| `.ايقاف_مؤقت` / `.pause` | إيقاف الجروب الحالي |
| `.استئناف` / `.resume` | استئناف الجروب |

### 📢 إدارة القنوات (متعدد القنوات)
| الأمر | الوصف |
|------|------|
| `.اضافة_قناة <جروب> <قناة>` | إضافة جسر جديد |
| `.حذف_قناة <جروب>` | حذف جسر |
| `.القنوات` / `.channels` | عرض جميع الجسور |

### 👥 إدارة النخبة
| الأمر | الوصف |
|------|------|
| `.اضافة_نخبة <رقم>` | إضافة مستخدم للنخبة |
| `.حذف_نخبة <رقم>` | حذف مستخدم من النخبة |
| `.النخبة` / `.elites` | عرض قائمة النخبة |

### 🔍 الفلاتر
| الأمر | الوصف |
|------|------|
| `.حظر <رقم>` | حظر مستخدم |
| `.الغاء_حظر <رقم>` | إلغاء حظر مستخدم |
| `.تفعيل_فلتر` | تفعيل الفلترة |
| `.تعطيل_فلتر` | تعطيل الفلترة |

### 🔔 التنبيهات الذكية
| الأمر | الوصف |
|------|------|
| `.اضافة_تنبيه <كلمة>` | إضافة تنبيه |
| `.حذف_تنبيه <كلمة>` | حذف تنبيه |
| `.التنبيهات` / `.alerts` | عرض التنبيهات |
| `.تفعيل_تنبيهات` | تفعيل التنبيهات |
| `.تعطيل_تنبيهات` | تعطيل التنبيهات |

### ⏰ الجدولة
| الأمر | الوصف |
|------|------|
| `.اضافة_جدول <اسم> <HH:MM> <action>` | إضافة مهمة مجدولة |
| `.حذف_جدول <اسم>` | حذف مهمة |
| `.الجداول` / `.schedules` | عرض المهام |

### 📊 التقارير
| الأمر | الوصف |
|------|------|
| `.تقرير_يومي` | تقرير اليوم |
| `.تقرير_اسبوعي` | تقرير الأسبوع |
| `.تقرير_اخطاء` | تقرير الأخطاء |
| `.تقرير_فاشل` | الرسائل الفاشلة |
| `.تقرير_نشاط` | نشاط المستخدمين |

### 📝 اللوجات
| الأمر | الوصف |
|------|------|
| `.لوج <نوع>` | عرض آخر 20 سطر |
| `.نظافة_لوجات` | حذف اللوجات القديمة |

### 👔 المشرفين
| الأمر | الوصف |
|------|------|
| `.اضافة_مشرف <رقم>` | إضافة مشرف |
| `.حذف_مشرف <رقم>` | حذف مشرف |
| `.المشرفين` / `.admins` | عرض المشرفين |

### ❓ المساعدة
| الأمر | الوصف |
|------|------|
| `.المساعدة` / `.help` | عرض جميع الأوامر |

---

## 🔧 حل المشاكل الشائعة

### المشكلة: الأوامر لا تعمل

**السبب:** قائمة النخبة فارغة

**الحل:**
1. تأكد أنك سجلت رقمك بالبوت (الحل التلقائي)
2. أو أضف `OWNER_PHONE=رقمك` في .env
3. أعد تشغيل البوت

### المشكلة: config.json غير موجود

**الحل:** البوت ينشئه تلقائياً! فقط شغل البوت وانتظر.

### المشكلة: ENOENT error

**الحل:** 
1. تأكد من صلاحيات الكتابة في المجلد
2. البوت سينشئ المجلدات اللازمة تلقائياً

### المشكلة: الرسائل لا تُنقل

**الحل:**
1. تأكد من `TELEGRAM_CHANNEL_ID` صحيح
2. تأكد من `WHATSAPP_GROUP_JID` صحيح
3. البوت يعرض الجروبات عند الاتصال

---

## 💡 نصائح إضافية

### 1. نسخ احتياطي
احتفظ بنسخة من:
- `auth_info_baileys/` - بيانات تسجيل الدخول
- `config.json` - الإعدادات
- `.env` - المتغيرات البيئية

### 2. الأمان
- لا تشارك `.env` أو `config.json` مع أحد
- لا ترفعهما على GitHub
- استخدم `.gitignore` للحماية

### 3. التحديثات
```bash
git pull
npm install
npm start
```

---

## 📊 ملفات اللوجات

البوت ينشئ 7 أنواع من اللوجات تلقائياً:

| الملف | المحتوى |
|------|---------|
| `logs/errors-YYYY-MM-DD.log` | الأخطاء والتحذيرات |
| `logs/whatsapp-messages-YYYY-MM-DD.log` | رسائل الواتس |
| `logs/telegram-messages-YYYY-MM-DD.log` | رسائل التليجرام |
| `logs/failed-transfers-YYYY-MM-DD.log` | الرسائل الفاشلة |
| `logs/commands-YYYY-MM-DD.log` | الأوامر المنفذة |
| `logs/smart-alerts-YYYY-MM-DD.log` | التنبيهات الذكية |
| `logs/bot-status-YYYY-MM-DD.log` | حالة البوت |

---

## 🌟 الميزات المتقدمة

### 1. دعم قنوات متعددة
يمكنك ربط عدة جروبات واتس بقنوات تليجرام مختلفة:

```
.اضافة_قناة 120363123@g.us @channel1
.اضافة_قناة 120363456@g.us @channel2
```

### 2. الفلترة الذكية
- حظر أرقام معينة
- فلترة حسب كلمات مفتاحية
- السماح لأنواع رسائل معينة فقط

### 3. التنبيهات الذكية
- تنبيه عند ذكر كلمات معينة
- إشعارات فورية في التليجرام

### 4. الجدولة
- إيقاف البوت تلقائياً في أوقات معينة
- تقارير مجدولة يومياً/أسبوعياً

### 5. نظام المشرفين
- صلاحيات متدرجة
- تحكم دقيق في الأذونات

---

## 📞 الدعم والمساهمة

إذا واجهتك مشكلة:
1. تحقق من اللوجات في مجلد `logs/`
2. افتح Issue في GitHub
3. انضم لمجموعة الدعم

---

**استمتع بالبوت! 🎉**

تم إنشاؤه بـ ❤️ بواسطة [obieda-hussien](https://github.com/obieda-hussien)
